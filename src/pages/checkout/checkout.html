<!--
  Generated template for the CheckoutPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Checkout</ion-title>

    <ion-buttons start>
      <button ion-button (click)="dismiss()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<form (ngSubmit)="checkout()" #checkOutForm="ngForm">
	<h3 ion-text color="light" margin-bottom>Additional information</h3>
		<ion-item>
		  <ion-label floating>Name</ion-label>
		  <ion-input type="text" name="name" [(ngModel)]="data.name"></ion-input>
		</ion-item>

	  <ion-item>
	    <ion-label floating>Address</ion-label>
	    <ion-input type="text" name="username" [(ngModel)]="data.address"></ion-input>
	  </ion-item>

	  <ion-item>
	    <ion-label floating>Pick up time</ion-label>
	    <ion-datetime name="pickupTime" displayFormat="MMMM DD, YYYY hh:mm A" pickerFormat="MMM DD, YYYY hh:mm A" [min]="minDateOfDatePicker" [(ngModel)]="data.pickupTime"></ion-datetime>
	  </ion-item>
	  <div>
		<h3 ion-text color="light" margin-bottom margin-top>CART DETAILS</h3>
	  </div>
	  <h3 ion-text color="light" text-right margin-bottom >TOTAL: Php {{totalPrice}}</h3>


	<ion-card *ngFor = "let item of cart.items;let i=index ">
	
	  <ion-card-header >
	  		{{item.item.itemDescription}}
	  		<ion-icon name="close" (click)="remove(i)" float-right *ngIf="checkIfCartEmpty()"></ion-icon>
	  </ion-card-header>
	  <ion-card-content>
	    	<p>Quantity: {{item.quantity}}</p>
			<p>Total Price: {{item.totalPrice}}</p>
	  </ion-card-content>
	</ion-card>

	<button ion-button block color="primary" class="fixed-bottom" [disabled] = "checkIfCartEmpty() || !checkOutForm.form.valid">Checkout</button>
</form>
</ion-content>
