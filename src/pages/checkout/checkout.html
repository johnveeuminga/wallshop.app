<!--
  Generated template for the CheckoutPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Checkout</ion-title>

    <ion-buttons start>
      <button ion-button (click)="goToShopper()">
        <span ion-text color="primary" showWhen="ios">Cancel</span>
        <ion-icon name="md-close" showWhen="android,windows"></ion-icon>
      </button>
    </ion-buttons>
  </ion-navbar>

</ion-header>


<ion-content padding>
	<form (ngSubmit)="checkout()" #checkOutForm="ngForm">
	<h3 ion-text color="light" margin-bottom>Additional information</h3>
		<ion-item>
		  <ion-label floating>Name</ion-label>
		  <ion-input type="text" name="name" [(ngModel)]="data.name"></ion-input>
		</ion-item>

	  <ion-item>
	    <ion-label floating>Address</ion-label>
	    <ion-input type="text" name="username" [(ngModel)]="data.address"></ion-input>
	  </ion-item>

	  <ion-item>
	    <ion-label floating>Pick up time</ion-label>
	    <ion-datetime name="pickupTime" displayFormat="MMMM DD, YYYY hh:mm A" pickerFormat="MMM DD, YYYY hh:mm A" [min]="minDateOfDatePicker" [(ngModel)]="data.pickupTime"></ion-datetime>
	  </ion-item>
	  <div>
		<h3 ion-text color="light" margin-bottom margin-top>CART DETAILS</h3>
	  </div>
	  <h3 ion-text color="light" text-right margin-bottom >TOTAL: Php {{totalPrice}}</h3>


	<ion-card *ngFor = "let item of cart.items;let i=index" (tap)="editCartItem(item,i)">
  <ion-card-content>
    <ion-grid>
      <ion-row>
        <ion-col>
          <img src="{{item.item.photoPath}}" height=100 width=100%>
        </ion-col>
        <ion-col align-self-center>
          <h4 ion-text color="primary" class="font-weight-bold">{{item.item.itemDescription}}</h4>
          <p><span ion-text color="primary">Quantity:</span> {{item.quantity}}</p> 
          <p><span ion-text color="primary">Total Price:</span> {{item.totalPrice}}</p> 
        </ion-col>
      </ion-row>
    </ion-grid>
  </ion-card-content>
</ion-card> 

	<button ion-button block color="primary" class="fixed-bottom" [disabled] = "checkIfCartEmpty() || !checkOutForm.form.valid">Checkout</button>
</form>
</ion-content>
